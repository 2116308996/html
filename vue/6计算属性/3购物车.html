<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script src="../vue.js" type="text/javascript" charset="utf-8"></script>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			#box{
				position: relative;
			}
			.box1{
				height: 50px;
				line-height: 50px;
				width: 1200px;
				margin: 0 auto;
				background-color: gainsboro;
			}
			.goodsbox1{
				padding-top: 30px;
				width: 1200px;
				margin: 0 auto;
				height: 200px;
				position: relative;
			}
			.box1>div{
				float: left;
			}
			.all{
				width:130px ;
				padding-left: 12px;
			}
			.goods{
				width: 430px;
			}
			.price{
				width: 150px;
			}
			.quantity{
				width: 150px;
			}
			.sum{
				width: 150px;
			}
			.action{
				width: 150px;
			}
			.goodsbox1>div{
				float: left;
			}
			.g-check{
				width: 20px;
				margin-top: 0;
			}
			.goodsbox1 .g-img{
				width: 150px;
			}
			.goodsbox1 .g-img img{
				width: 100%;
			}
			.g-textarea{
				width: 250px;
				font-size: 12px;
				padding: 0 10px;
			}
			.g-text{
				width: 120px;
				height: 200px;
				font-size: 12px;
			}
			.g-quantity{
				width: 150px;
			}
			.g-price{
				width: 150px;
			}
			.g-sum{
				width: 150px;
			}
			.g-action{
				width: 150px;
			}
		</style>
	</head>
	<body>
		<div id="box">
			<h3>购物车</h3>
			<div class="box1">
				<div class="all">
					<input type="checkbox" v-model="isall" @change="changeall" name="all" id="checkbox1" value="" />
					全选
				</div>
				<div class="goods">商品</div>
				<div class="price">单价</div>
				<div class="quantity">数量</div>
				<div class="sum">小计</div>
				<div class="action">操作</div>
			</div>
			
			<div v-for="(data,index) in list" :key="data.id">
				<div class="goodsbox1">
					<div class="g-check">
						<input type="checkbox" checked="checked" @change="option" name="" id="" :value="data" v-model="newlist"/>
					</div>
					<div class="g-img">
						<img :src="data.img" alt="">
					</div>
					<div class="g-textarea">
							{{data.textarea}}
					</div>
					<div class="g-text">
						{{data.text}}
					</div>
					<div class="g-price">
							{{data.price}}
					</div>
					<div class="g-quantity" >
						<button type="button" @click="data.count--" :disabled="data.count===1">➖</button>
						{{data.count}}
						<button type="button" @click="data.count++">➕</button>
					</div>
					<div class="g-sum">
						{{data.price*data.count}}
					</div>
					<div class="g-action">
						<a href="" @click.prevent="del(index,data.id)">删除</a>
					</div>
				</div>
			</div>
			<div>
				总计：{{maxsum1}}
			</div>
            <div>{{newlist}}</div>
		</div>
		<script type="text/javascript">
			new Vue({
				el:"#box",
				data:{
					isall:false,
					cheak:false,
					newlist:[],
					list:[{
						id:1,
						shop:"asddasdfas",
						img:"../../image/25.jpg",
						textarea:"影驰（Galaxy）GeForce RTX2060 12G N卡 电竞专业台式机电脑游戏显卡 RTX 2060 大将MAX选服务",
						text:"RTX 2060 大将MAX",
						price:3399.00,
						count:1,
					},
					{   
						id:2,
						shop:"aaaaa",
						img:"../../image/24.jpg",
						textarea:"微星（MSI）万图师 GeForce RTX 2060 VENTUS 12G OC 超频版 电竞",
						text:"2060-万图师OC",
						price:3599.00,
						count:1,
					},
					{
						id:3,
						shop:"aaaaa",
						img:"../../image/26.jpg",
						textarea:"微星（MSI）万图师 GeForce RTX 1050 VENTUS 12G OC 超频版 电竞",
						text:"2060-万图师OC",
						price:1599.00,
						count:1,
					}
					]
				},
				methods:{
					del(index,id){
						this.list.splice(index,1);
						this.newlist=this.newlist.filter(item=>item.id!==id);
					},
					changeall(){
						if(this.isall){
							this.newlist=this.list
						}else{
							this.newlist=[]
						}
					},
					
					option(){
						if(this.newlist.length==this.list.length){
							this.isall=true;
						}else{
							this.isall=false;
						}
					}
				},
				computed:{
					maxsum1(){
						var total=0
						this.newlist.forEach(item=>{
							total+=item.price*item.count
						})
						return total
					},
				}
			})
		</script>
	</body>
</html>
