<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
		    *{
				margin: 0;
				padding: 0;
			}
		    #tab{
				margin: 50px auto;
			}
			#tab th{
				width: 80px;
			}
			#tab td{
				width: 80px;
				text-align: center;
			}
			#form{
				border: 1px solid black;
				width: 400px;
				margin: 0 auto;
			}
			#form>div{
				text-align: center;
			}
		</style>
		<script type="text/javascript">
			window.onload=function(){
				function delA(){
					var tr=this.parentNode.parentNode;
					var name=tr.getElementsByTagName("td")[0].innerHTML;
					var flag = confirm("确认删除"+name+"吗？");
					if(flag){
					tr.parentNode.removeChild(tr);
					}
					return false;
					// return false 取消a标签的默认行为
				}
				var allA=document.getElementById("tab").getElementsByTagName("a");
				for(var i=0;i<allA.length;i++){
					allA[i].onclick=delA;
				}
				
				var submit=document.getElementById("submit");
				submit.onclick=function(){
					var name=document.getElementById("name").value;
					var email=document.getElementById("email").value;
					var salary=document.getElementById("salary").value;
					var tr=document.createElement("tr");
					
					var reg=/[\w]+@[\w]+\.[\w]{2,5}/;
					var flag=reg.test(email);
					if(!flag){
						alert("邮箱错误");
						return 0;
					}
					
					
					var nametd=document.createElement("td");
					nametd.innerHTML=name;
					var emailtd=document.createElement("td");
					emailtd.innerHTML=email;
					var salarytd=document.createElement("td");
					salarytd.innerHTML=salary;
					var deltd=document.createElement("td");
					deltd.innerHTML='<a href="">Delete</a>';
					
					deltd.getElementsByTagName("a")[0].onclick=delA;
					tr.appendChild(nametd);
					tr.appendChild(emailtd);
					tr.appendChild(salarytd);
					tr.appendChild(deltd);
					
					var tab=document.getElementById("tab");
					tab.children[0].appendChild(tr);
				};
			};
		</script>
	</head>
	<body>
		<table border="" cellspacing="" cellpadding="" id="tab">
			<tr>
				<th>Name</th>
				<th>Email</th>
				<th>Salary</th>
				<th></th>
			</tr>
			<tr>
				<td>Tom</td>
				<td>tom@qq.com</td>
				<td>5000</td>
				<td><a href=""> Delete</a></td>
			</tr>
			<tr>
				<td>Jerry</td>
				<td>jerry@qq.com</td>
				<td>8000</td>
				<td><a href=""> Delete</a></td>
			</tr>
			<tr>
				<td>Bob</td>
				<td>bob@qq.com</td>
				<td>10000</td>
				<td><a href=""> Delete</a></td>
			</tr>
		</table>
		
		<form action="" method="get" id="form">
			<div>添加新员工</div>
			<div>name:<input type="text" name="name" id="name" value="" /></div>
			<div>email:<input type="text" name="email" id="email" value="" /></div>
			<div>salary:<input type="text" name="salary" id="salary" value="" /></div>
			<div><input type="button" name="" id="submit" value="Submit" /></div>
		</form>
	</body>
</html>
